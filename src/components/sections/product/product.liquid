{{ 'bundle.product.css' | asset_url | stylesheet_tag }}

{% assign current_variant = product.selected_or_first_available_variant %}
{% assign featured_image = current_variant.featured_image | default: product.featured_image %}
<section class="text-gray-700 body-font overflow-hidden bg-white">
  <div class="container px-5 py-6 lg:py-24 mx-auto">
    <div class="lg:w-4/5 mx-auto flex flex-wrap">
      <img data-product-image alt="{{ featured_image.alt | escape }}" class="lg:w-1/2 w-full object-cover object-center rounded border border-gray-200" src="{{ featured_image | img_url: 'large' }}">
      <div class="lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0">
        {%- comment -%}<h2 class="text-sm title-font text-gray-500 tracking-widest">BRAND NAME</h2>{%- endcomment -%}
        <h1 class="text-gray-900 text-3xl title-font font-medium mb-1" id="">{{ product.title }}</h1>
        <p class="leading-relaxed">{{ product.content }}</p>
        <form enctype="multipart/form-data" id="AddToCartForm" method="post">
          <div class="flex mt-6 items-center" id="product-options-container">
            {% for product_option in product.options_with_values %}
              {% if product_option.name != "Title"  %}
                <div class="px-4" data-option-group="{{ forloop.index }}">
                  <span class="mb-2 font-bold">{{ product_option.name }}</span>
                  <div class="flex -mx-1">
                    {% for value in product_option.values %}
                      <div 
                        class="mx-1 border border-gray-400 cursor-pointer swatch-selector js-swatch-selector" 
                        data-option="{{ value }}">
                        <img
                          class="pointer-events-none" 
                          src="{{ value | downcase | prepend: 'swatch-' | append: '.jpg' | file_img_url: '25x' }}" 
                          alt="{{ value }}" title="{{ value }}"
                        >
                      </div>
                    {% endfor %}
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
          <div class="mt-3 pb-5 border-b-2 border-gray-200 mb-5">
            {% render 'input-counter' %}
          </div>
          <div class="bg-red-300 border border-red-600 text-white mb-2 p-2 hidden" data-error-message></div>
          <div class="flex mb-2">
            <span class="title-font font-medium text-2xl text-gray-900" data-product-price>{{ product.price | money_without_trailing_zeros }}</span>
            <button class="flex ml-auto text-white bg-blue-500 border-0 py-2 px-6 focus:outline-none hover:bg-blue-600 rounded" type="submit" name="add" id="AddToCartBtn" value="{{ current_variant.id }}">ADD TO CART</button>
          </div>
          <div class="bg-green-300 border border-green-600 p-2 hidden" data-cart-success-message>
          </div>
        </form>
      </div>
    </div>
    <script>
      var productOptions = {{ product | json }};
    </script>
  </div>
</section>

{{ 'bundle.product.js' | asset_url | script_tag }}
